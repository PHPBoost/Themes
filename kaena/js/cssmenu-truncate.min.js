!function(t){t.fn.truncateList=function(){var n=function(t,n){var e,i={};for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e]);for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(i[e]=n[e]);return i}({truncatedTitle:"More",resizeDelay:50},arguments[0]);if(window.matchMedia("(min-width: 769px)").matches)return this.each(function(){function e(){clearTimeout(o),o=setTimeout(function(){var n;n=d,a,t.when(function(n){n.find(".truncated-list .truncated-item").each(function(){var e=t(this).data("index");0==e?t(this).prependTo(n):t(this).insertAfter(n.find('.truncated-item[data-index="'+(e-1)+'"]'))})}(n)).done(function(){i(n)})},n.resizeDelay)}function i(n){s=n.closest(".cssmenu-horizontal").parent().innerWidth(),r=n.find(".has-more-sub").outerWidth(!0);n.find('.truncated-item:not(".has-more-sub")').each(function(e){if((r+=t(this).outerWidth(!0))>=s)return function(t,n){for(x=n;x<=a;x++)t.find('.truncated-item:not(".has-more-sub")[data-index="'+x+'"]').appendTo(t.find(".truncated-list-content"))}(n,e),n.find(".has-more-sub").show(),!1;n.find(".has-more-sub").hide()})}var a,s,r,o,c,d=t(this);t(this).clone();c=d,d.closest(".cssmenu-horizontal").addClass("cssmenu-truncate"),c.find(".has-more-sub").length||c.append('<li class="has-sub truncated-item has-more-sub" style="display: none"><span class="cssmenu-title">'+n.truncatedTitle+"</span></li>").find(".has-more-sub").append('<ul class="truncated-list truncated-list-content"></ul>'),c.children().each(function(n){t(this).attr("data-index",n).addClass("truncated-item")}),a=c.find(".truncated-item").length,index=a-1,i(c),t(window).on("resize",e)})}}(jQuery);
